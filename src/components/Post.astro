---
import { formatDate, getPathFromCategory } from '~/utils'
import { THEME_CONFIG } from '~/theme.config'
interface Props {
  post: Post
}

const { post } = Astro.props
const { translate: t } = Astro.locals

function getCategoryUrl(category: string) {
  return `/categories/${getPathFromCategory(category, THEME_CONFIG.category_map)}`
}
---

<style>
  article.heti {
    max-width: 800px; /* 扩大宽度 */
    margin: -30;
  }

  article.heti p {
    font-size: 1.1rem !important;  /* 细化字体大小 */
    font-weight: 300 !important;   /* 字体变细 */
    line-height: 1.6 !important;   /* 调整行距 */
  }

</style>


<article class="heti">
  <header>
    <h1 class="post-title!">
      <a href={`/posts/${post.slug}/`}>{post.data.title}</a>
    </h1>
    <div class="mt-2 text-3.5">
      <span>{t('posted_at')}</span>
      <time>{formatDate(post.data.pubDate)}</time>
      {
        post.data.categories &&
          post.data.categories.map((category) => (
            <a class="ml-2.5" href={getCategoryUrl(category)}>
              # {category}
            </a>
          ))
      }
    </div>
  </header>

  <slot />
</article>


